

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>idmtools.builders.arm_simulation_builder module &mdash; IDM-Tools  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/tipuesearch/tipuesearch.js"></script>
        <script src="_static/tipuesearch/tipuesearch_content.js"></script>
        <script src="_static/tipuesearch/tipuesearch_set.js"></script>
        <script src="_static/runsearch.js"></script>
        <script src="_static/tablecollapse.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within IDM-Tools  documentation"
          href="_static/opensearch.xml"/>

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="_static/tipuesearch/tipuesearch.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="idmtools.builders.csv_simulation_builder module" href="idmtools.builders.csv_simulation_builder.html" />
    <link rel="prev" title="idmtools.builders package" href="idmtools.builders.html" />

<link href="https://fonts.googleapis.com/css?family=Lato|Montserrat|Open+Sans" rel="stylesheet">


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> IDM-Tools
          

          
            
            <img src="_static/IDM_white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.2.2
              </div>
            
          

          <div role="search">
    <form action="search-local.html" class='wy-form' id='rtd-search-form' method="get">
        <input autocomplete="off" id="tipue_search_input" name="q" placeholder="Search docs"
               required type="text">
    </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="platforms.html">Platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="create-sims.html">Create and run simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="parameter-sweeps.html">Parameter sweeps and model iteration</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibrate.html">Calibrate simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="analyzers.html">Introduction to analyzers</a></li>
<li class="toctree-l1"><a class="reference internal" href="reports.html">Output reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="plots.html">Plot data</a></li>
<li class="toctree-l1"><a class="reference internal" href="serialization.html">Serialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookiecutters.html">Cookiecutter example projects</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="reference.html">Architecture and packages reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="idmtools_index.html">idmtools</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="idmtools.html">idmtools package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="idmtools.analysis.html">idmtools.analysis package</a></li>
<li class="toctree-l4"><a class="reference internal" href="idmtools.assets.html">idmtools.assets package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="idmtools.builders.html">idmtools.builders package</a></li>
<li class="toctree-l4"><a class="reference internal" href="idmtools.config.html">idmtools.config package</a></li>
<li class="toctree-l4"><a class="reference internal" href="idmtools.core.html">idmtools.core package</a></li>
<li class="toctree-l4"><a class="reference internal" href="idmtools.entities.html">idmtools.entities package</a></li>
<li class="toctree-l4"><a class="reference internal" href="idmtools.registry.html">idmtools.registry package</a></li>
<li class="toctree-l4"><a class="reference internal" href="idmtools.services.html">idmtools.services package</a></li>
<li class="toctree-l4"><a class="reference internal" href="idmtools.utils.html">idmtools.utils package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="idmtools_models_index.html">idmtools_models</a></li>
<li class="toctree-l2"><a class="reference internal" href="idmtools_platform_comps_index.html">idmtools_platform_comps</a></li>
<li class="toctree-l2"><a class="reference internal" href="idmtools_platform_local_index.html">idmtools_platform_local</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli_index.html">CLI reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">IDM-Tools</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          





<div aria-label="breadcrumbs navigation" role="navigation">
    <ul class="wy-breadcrumbs">
        <li><a href="https://idmod.org/documentation">IDM docs</a> &raquo;</li>
        <li><a href="index.html">IDM-Tools</a> &raquo;</li>
        
        <li><a href="reference.html">Architecture and packages reference</a> &raquo;</li>
        
        <li><a href="idmtools_index.html">idmtools</a> &raquo;</li>
        
        <li><a href="idmtools.html">idmtools package</a> &raquo;</li>
        
        <li><a href="idmtools.builders.html">idmtools.builders package</a> &raquo;</li>
        
        <li>idmtools.builders.arm_simulation_builder module</li>
        <li class="wy-breadcrumbs-aside">
            
            
            
        </li>
    </ul>
    <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
<!-- From _templates/page.html -->

  <div class="section" id="module-idmtools.builders.arm_simulation_builder">
<span id="idmtools-builders-arm-simulation-builder-module"></span><h1>idmtools.builders.arm_simulation_builder module<a class="headerlink" href="#module-idmtools.builders.arm_simulation_builder" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="idmtools.builders.arm_simulation_builder.ArmType">
<em class="property">class </em><code class="sig-prename descclassname">idmtools.builders.arm_simulation_builder.</code><code class="sig-name descname">ArmType</code><a class="headerlink" href="#idmtools.builders.arm_simulation_builder.ArmType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>An enumeration.</p>
<dl class="attribute">
<dt id="idmtools.builders.arm_simulation_builder.ArmType.cross">
<code class="sig-name descname">cross</code><em class="property"> = 0</em><a class="headerlink" href="#idmtools.builders.arm_simulation_builder.ArmType.cross" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="idmtools.builders.arm_simulation_builder.ArmType.pair">
<code class="sig-name descname">pair</code><em class="property"> = 1</em><a class="headerlink" href="#idmtools.builders.arm_simulation_builder.ArmType.pair" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="idmtools.builders.arm_simulation_builder.SweepArm">
<em class="property">class </em><code class="sig-prename descclassname">idmtools.builders.arm_simulation_builder.</code><code class="sig-name descname">SweepArm</code><span class="sig-paren">(</span><em class="sig-param">type=&lt;ArmType.cross: 0&gt;</em>, <em class="sig-param">funcs=[]</em><span class="sig-paren">)</span><a class="headerlink" href="#idmtools.builders.arm_simulation_builder.SweepArm" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that represents a parameter arm.</p>
<dl class="method">
<dt id="idmtools.builders.arm_simulation_builder.SweepArm.add_sweep_definition">
<code class="sig-name descname">add_sweep_definition</code><span class="sig-paren">(</span><em class="sig-param">func: Callable, values: Iterable[Any]</em><span class="sig-paren">)</span><a class="headerlink" href="#idmtools.builders.arm_simulation_builder.SweepArm.add_sweep_definition" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="idmtools.builders.arm_simulation_builder.SweepArm.get_max_values_count">
<code class="sig-name descname">get_max_values_count</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#idmtools.builders.arm_simulation_builder.SweepArm.get_max_values_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="idmtools.builders.arm_simulation_builder.SweepArm.adjust_values_length">
<code class="sig-name descname">adjust_values_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#idmtools.builders.arm_simulation_builder.SweepArm.adjust_values_length" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="idmtools.builders.arm_simulation_builder.ArmSimulationBuilder">
<em class="property">class </em><code class="sig-prename descclassname">idmtools.builders.arm_simulation_builder.</code><code class="sig-name descname">ArmSimulationBuilder</code><a class="headerlink" href="#idmtools.builders.arm_simulation_builder.ArmSimulationBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="idmtools.builders.simulation_builder.html#idmtools.builders.simulation_builder.SimulationBuilder" title="idmtools.builders.simulation_builder.SimulationBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">idmtools.builders.simulation_builder.SimulationBuilder</span></code></a></p>
<p>Class that represents an experiment builder.</p>
<p>This particular sweep builder build sweeps in “ARMS”. This is particular useful in situations where you want to sweep
parameters that have branches of parameters. For Example, let’s say we have a model with the following parameters:
* population
* susceptible
* recovered
* enable_births
* birth_rate</p>
<p>Enable births controls an optional feature that is controlled by the birth_rate parameter. If we want to sweep a set
of parameters on population, susceptible with enabled_births set to off but also want to sweep the birth_rate
we could do that like so</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">###################################</span>
<span class="c1"># This example provides how you can check if your sweeps are working as expected</span>
<span class="c1">###################################</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<span class="kn">from</span> <span class="nn">idmtools.builders</span> <span class="kn">import</span> <span class="n">ArmSimulationBuilder</span><span class="p">,</span> <span class="n">SweepArm</span><span class="p">,</span> <span class="n">ArmType</span>
<span class="kn">from</span> <span class="nn">idmtools.entities.command_task</span> <span class="kn">import</span> <span class="n">CommandTask</span>
<span class="kn">from</span> <span class="nn">idmtools.entities.templated_simulation</span> <span class="kn">import</span> <span class="n">TemplatedSimulations</span>
<span class="kn">from</span> <span class="nn">tabulate</span> <span class="kn">import</span> <span class="n">tabulate</span>


<span class="k">def</span> <span class="nf">update_parameter</span><span class="p">(</span><span class="n">simulation</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">simulation</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">parameter</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>


<span class="n">base_task</span> <span class="o">=</span> <span class="n">CommandTask</span><span class="p">(</span><span class="s1">&#39;example&#39;</span><span class="p">)</span>
<span class="n">base_task</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">enable_births</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">builder</span> <span class="o">=</span> <span class="n">ArmSimulationBuilder</span><span class="p">()</span>
<span class="c1"># Define our first set of sweeps</span>
<span class="n">arm</span> <span class="o">=</span> <span class="n">SweepArm</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">ArmType</span><span class="o">.</span><span class="n">cross</span><span class="p">)</span>
<span class="n">arm</span><span class="o">.</span><span class="n">add_sweep_definition</span><span class="p">(</span><span class="n">partial</span><span class="p">(</span><span class="n">update_parameter</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s1">&#39;population&#39;</span><span class="p">),</span> <span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">1000</span><span class="p">])</span>
<span class="n">arm</span><span class="o">.</span><span class="n">add_sweep_definition</span><span class="p">(</span><span class="n">partial</span><span class="p">(</span><span class="n">update_parameter</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s1">&#39;susceptible&#39;</span><span class="p">),</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_arm</span><span class="p">(</span><span class="n">arm</span><span class="p">)</span>
<span class="c1"># Now add the sweeps with the birth_rate as well</span>
<span class="n">arm</span><span class="o">.</span><span class="n">add_sweep_definition</span><span class="p">(</span><span class="n">partial</span><span class="p">(</span><span class="n">update_parameter</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s1">&#39;enable_births&#39;</span><span class="p">),</span> <span class="p">[</span><span class="kc">True</span><span class="p">])</span>
<span class="n">arm</span><span class="o">.</span><span class="n">add_sweep_definition</span><span class="p">(</span><span class="n">partial</span><span class="p">(</span><span class="n">update_parameter</span><span class="p">,</span> <span class="n">parameter</span><span class="o">=</span><span class="s1">&#39;birth_rate&#39;</span><span class="p">),</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="n">builder</span><span class="o">.</span><span class="n">add_arm</span><span class="p">(</span><span class="n">arm</span><span class="p">)</span>

<span class="n">sims</span> <span class="o">=</span> <span class="n">TemplatedSimulations</span><span class="p">(</span><span class="n">base_task</span><span class="o">=</span><span class="n">base_task</span><span class="p">)</span>
<span class="n">sims</span><span class="o">.</span><span class="n">add_builder</span><span class="p">(</span><span class="n">builder</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">([</span><span class="n">s</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">config</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">sims</span><span class="p">)],</span> <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>This would result in the output</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Arm Example Values</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>enable_births</p></th>
<th class="head"><p>population</p></th>
<th class="head"><p>susceptible</p></th>
<th class="head"><p>birth_rate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>False</p></td>
<td><p>500</p></td>
<td><p>0.5</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>False</p></td>
<td><p>500</p></td>
<td><p>0.9</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>False</p></td>
<td><p>1000</p></td>
<td><p>0.5</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>False</p></td>
<td><p>1000</p></td>
<td><p>0.9</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>True</p></td>
<td><p>500</p></td>
<td><p>0.5</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-odd"><td><p>True</p></td>
<td><p>500</p></td>
<td><p>0.5</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-even"><td><p>True</p></td>
<td><p>500</p></td>
<td><p>0.9</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-odd"><td><p>True</p></td>
<td><p>500</p></td>
<td><p>0.9</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-even"><td><p>True</p></td>
<td><p>1000</p></td>
<td><p>0.5</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-odd"><td><p>True</p></td>
<td><p>1000</p></td>
<td><p>0.5</p></td>
<td><p>0.1</p></td>
</tr>
<tr class="row-even"><td><p>True</p></td>
<td><p>1000</p></td>
<td><p>0.9</p></td>
<td><p>0.01</p></td>
</tr>
<tr class="row-odd"><td><p>True</p></td>
<td><p>1000</p></td>
<td><p>0.9</p></td>
<td><p>0.1</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This file demonstrates how to use ArmExperimentBuilder in PythonExperiment&#39;s builder.</span>
<span class="sd">        We are then adding the builder to PythonExperiment.</span>

<span class="sd">        |__sweep arm1</span>
<span class="sd">            |_ a = 1</span>
<span class="sd">            |_ b = [2,3]</span>
<span class="sd">            |_ c = [4,5]</span>
<span class="sd">        |__ sweep arm2</span>
<span class="sd">            |_ a = [6,7]</span>
<span class="sd">            |_ b = 2</span>
<span class="sd">        Expect sims with parameters:</span>
<span class="sd">            sim1: {a:1, b:2, c:4}</span>
<span class="sd">            sim2: {a:1, b:2, c:5}</span>
<span class="sd">            sim3: {a:1, b:3, c:4}</span>
<span class="sd">            sim4: {a:1, b:3, c:5}</span>
<span class="sd">            sim5: {a:6, b:2}</span>
<span class="sd">            sim6: {a:7, b:2}</span>
<span class="sd">        Note:</span>
<span class="sd">            arm1 and arm2 are adding to total simulations</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="kn">from</span> <span class="nn">idmtools.builders</span> <span class="kn">import</span> <span class="n">SweepArm</span><span class="p">,</span> <span class="n">ArmType</span><span class="p">,</span> <span class="n">ArmSimulationBuilder</span>
<span class="kn">from</span> <span class="nn">idmtools.core.platform_factory</span> <span class="kn">import</span> <span class="n">platform</span>
<span class="kn">from</span> <span class="nn">idmtools.entities.experiment</span> <span class="kn">import</span> <span class="n">Experiment</span>
<span class="kn">from</span> <span class="nn">idmtools.entities.templated_simulation</span> <span class="kn">import</span> <span class="n">TemplatedSimulations</span>
<span class="kn">from</span> <span class="nn">idmtools_models.python.json_python_task</span> <span class="kn">import</span> <span class="n">JSONConfiguredPythonTask</span>
<span class="kn">from</span> <span class="nn">idmtools_test</span> <span class="kn">import</span> <span class="n">COMMON_INPUT_PATH</span>

<span class="c1"># define specific callbacks for a, b, and c</span>
<span class="n">setA</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">JSONConfiguredPythonTask</span><span class="o">.</span><span class="n">set_parameter_sweep_callback</span><span class="p">,</span> <span class="n">param</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
<span class="n">setB</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">JSONConfiguredPythonTask</span><span class="o">.</span><span class="n">set_parameter_sweep_callback</span><span class="p">,</span> <span class="n">param</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>
<span class="n">setC</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">JSONConfiguredPythonTask</span><span class="o">.</span><span class="n">set_parameter_sweep_callback</span><span class="p">,</span> <span class="n">param</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">)</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">platform</span><span class="p">(</span><span class="s1">&#39;COMPS2&#39;</span><span class="p">):</span>
        <span class="n">base_task</span> <span class="o">=</span> <span class="n">JSONConfiguredPythonTask</span><span class="p">(</span><span class="n">script_path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">COMMON_INPUT_PATH</span><span class="p">,</span> <span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;model1.py&quot;</span><span class="p">))</span>
        <span class="c1"># define that we are going to create multiple simulations from this task</span>
        <span class="n">ts</span> <span class="o">=</span> <span class="n">TemplatedSimulations</span><span class="p">(</span><span class="n">base_task</span><span class="o">=</span><span class="n">base_task</span><span class="p">)</span>

        <span class="c1"># define our first sweep Sweep Arm</span>
        <span class="n">arm1</span> <span class="o">=</span> <span class="n">SweepArm</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">ArmType</span><span class="o">.</span><span class="n">cross</span><span class="p">)</span>
        <span class="n">builder</span> <span class="o">=</span> <span class="n">ArmSimulationBuilder</span><span class="p">()</span>
        <span class="n">arm1</span><span class="o">.</span><span class="n">add_sweep_definition</span><span class="p">(</span><span class="n">setA</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">arm1</span><span class="o">.</span><span class="n">add_sweep_definition</span><span class="p">(</span><span class="n">setB</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
        <span class="n">arm1</span><span class="o">.</span><span class="n">add_sweep_definition</span><span class="p">(</span><span class="n">setC</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
        <span class="n">builder</span><span class="o">.</span><span class="n">add_arm</span><span class="p">(</span><span class="n">arm1</span><span class="p">)</span>

        <span class="c1"># adding more simulations with sweeping</span>
        <span class="n">arm2</span> <span class="o">=</span> <span class="n">SweepArm</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">ArmType</span><span class="o">.</span><span class="n">cross</span><span class="p">)</span>
        <span class="n">arm2</span><span class="o">.</span><span class="n">add_sweep_definition</span><span class="p">(</span><span class="n">setA</span><span class="p">,</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
        <span class="n">arm2</span><span class="o">.</span><span class="n">add_sweep_definition</span><span class="p">(</span><span class="n">setB</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">builder</span><span class="o">.</span><span class="n">add_arm</span><span class="p">(</span><span class="n">arm2</span><span class="p">)</span>

        <span class="c1"># add our builders to our template</span>
        <span class="n">ts</span><span class="o">.</span><span class="n">add_builder</span><span class="p">(</span><span class="n">builder</span><span class="p">)</span>

        <span class="c1"># create experiment from the template</span>
        <span class="n">experiment</span> <span class="o">=</span> <span class="n">Experiment</span><span class="o">.</span><span class="n">from_template</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="mi">1</span><span class="p">],</span>
                                              <span class="n">tags</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;string_tag&quot;</span><span class="p">:</span> <span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;number_tag&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="s2">&quot;KeyOnly&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">})</span>
        <span class="c1"># run the experiment</span>
        <span class="n">experiment</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
        <span class="c1"># in most real scenarios, you probably do not want to wait as this will wait until all simulations</span>
        <span class="c1"># associated with an experiment are done. We do it in our examples to show feature and to enable</span>
        <span class="c1"># testing of the scripts</span>
        <span class="n">experiment</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
        <span class="c1"># use system status as the exit code</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">0</span> <span class="k">if</span> <span class="n">experiment</span><span class="o">.</span><span class="n">succeeded</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="idmtools.builders.arm_simulation_builder.ArmSimulationBuilder.add_arm">
<code class="sig-name descname">add_arm</code><span class="sig-paren">(</span><em class="sig-param">arm</em><span class="sig-paren">)</span><a class="headerlink" href="#idmtools.builders.arm_simulation_builder.ArmSimulationBuilder.add_arm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>


<div id="tipue_search_content"></div>

           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="idmtools.builders.csv_simulation_builder.html" class="btn btn-neutral float-right" title="idmtools.builders.csv_simulation_builder module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="idmtools.builders.html" class="btn btn-neutral float-left" title="idmtools.builders package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Intellectual Ventures Management, LLC (IVM). All rights reserved

    </p>
  </div>
<p>IDM-Tools is licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode">Creative Commons
    Attribution-Noncommercial-ShareAlike 4.0 License</a>.</p>
<p>Send documentation feedback to <a href="mailto:feedback@idmod.org" target="_top">feedback@idmod.org</a>. If you have
    questions, email <a href="mailto:support@idmod.org" target="_top">support@idmod.org</a>.</p>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<!-- Google analytics for IDM docs -->
 
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-87656833-3', 'auto');
    ga('send', 'pageview');

</script>



</body>
</html>