Bootstrap: docker
From: rockylinux:8.5

%post
    dnf install python39-devel -y
    dnf install mpich-devel -y
    dnf install sqlite-devel -y
    dnf install boost-devel -y
    dnf install git -y
    dnf install vim -y
    dnf install snappy -y

    dnf group install "Development Tools" -y

    dnf clean all

    python3 -m pip install pip --upgrade
    python3 -m pip install scons pytest
	python3 -m pip install emod-api --extra-index-url https://packages.idmod.org/api/pypi/pypi-production/simple
%runscript


%environment
    export PATH=$PATH:/usr/lib64/mpich/bin
    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib64/mpich/lib


%test


%labels
    Author jbloedow@idmod.org

%help
    Minimal container for building EMOD.