<?xml version="1.0" encoding="UTF-8"?>
<testsuite errors="0" failures="0" file="test_docker_operations.py"
           name="test_docker_operations.TestDockerOperations-20190807211648" skipped="0" tests="5" time="39.368"
           timestamp="2019-08-07T21:21:45">
    <testcase classname="test_docker_operations.TestDockerOperations" file="test_docker_operations.py" line="27"
              name="test_create_db_starts" time="12.060" timestamp="2019-08-07T21:21:18">
        <system-out>
            <![CDATA[
[K]]>        </system-out>
        <system-err>
            <![CDATA[2019-08-07 21:21:06 sahara docker.utils.config[26785] DEBUG Trying paths: ['/home/clinton/.docker/config.json', '/home/clinton/.dockercfg']
2019-08-07 21:21:06 sahara docker.utils.config[26785] DEBUG Found file at path: /home/clinton/.docker/config.json
2019-08-07 21:21:06 sahara docker.auth[26785] DEBUG Found 'auths' section
2019-08-07 21:21:06 sahara docker.auth[26785] DEBUG Found entry (registry='docker.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:06 sahara docker.auth[26785] DEBUG Found entry (registry='iazdvfil01.azurecr.io', username='iazdvfil01')
2019-08-07 21:21:06 sahara docker.auth[26785] DEBUG Found entry (registry='idm-docker-production.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:06 sahara docker.auth[26785] DEBUG Found entry (registry='idm-docker-staging.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:06 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring postgres is running
2019-08-07 21:21:06 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Postgres Config: {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:21:06 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Postgres Container Config {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:21:07 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring redis is running
2019-08-07 21:21:07 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring postgres is running
2019-08-07 21:21:07 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Stopping container idmtools_postgres
2019-08-07 21:21:18 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Removing container idmtools_postgres
2019-08-07 21:21:18 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring worker is running
]]>        </system-err>
    </testcase>
    <testcase classname="test_docker_operations.TestDockerOperations" file="test_docker_operations.py" line="21"
              name="test_create_redis_starts" time="1.837" timestamp="2019-08-07T21:21:20">
        <system-out>
            <![CDATA[
[K]]>        </system-out>
        <system-err>
            <![CDATA[2019-08-07 21:21:18 sahara docker.utils.config[26785] DEBUG Trying paths: ['/home/clinton/.docker/config.json', '/home/clinton/.dockercfg']
2019-08-07 21:21:18 sahara docker.utils.config[26785] DEBUG Found file at path: /home/clinton/.docker/config.json
2019-08-07 21:21:18 sahara docker.auth[26785] DEBUG Found 'auths' section
2019-08-07 21:21:18 sahara docker.auth[26785] DEBUG Found entry (registry='docker.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:18 sahara docker.auth[26785] DEBUG Found entry (registry='iazdvfil01.azurecr.io', username='iazdvfil01')
2019-08-07 21:21:18 sahara docker.auth[26785] DEBUG Found entry (registry='idm-docker-production.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:18 sahara docker.auth[26785] DEBUG Found entry (registry='idm-docker-staging.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:18 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring redis is running
2019-08-07 21:21:18 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Redis Config: {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:21:18 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Redis Container Config {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:21:19 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring redis is running
2019-08-07 21:21:19 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Stopping container idmtools_redis
2019-08-07 21:21:20 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Removing container idmtools_redis
2019-08-07 21:21:20 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring postgres is running
2019-08-07 21:21:20 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring worker is running
]]>        </system-err>
    </testcase>
    <testcase classname="test_docker_operations.TestDockerOperations" file="test_docker_operations.py" line="37"
              name="test_create_stack_starts" time="17.113" timestamp="2019-08-07T21:21:37">
        <system-out>
            <![CDATA[]]>        </system-out>
        <system-err>
            <![CDATA[2019-08-07 21:21:20 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring redis is running
2019-08-07 21:21:20 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring postgres is running
2019-08-07 21:21:20 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring worker is running
2019-08-07 21:21:20 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Creating network idmtools
2019-08-07 21:21:21 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Creating network idmtools
2019-08-07 21:21:21 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring redis is running
2019-08-07 21:21:21 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Redis Config: {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:21:21 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Redis Container Config {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:21:22 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring postgres is running
2019-08-07 21:21:22 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Postgres Config: {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:21:22 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Postgres Container Config {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:21:28 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring worker is running
2019-08-07 21:21:28 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Creating working container
2019-08-07 21:21:28 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Worker Config: {'name': 'idmtools_workers', 'hostname': 'idmtools', 'image': 'idm-docker-staging.packages.idmod.org/idmtools_local_workers:latest', 'ports': {5000: 5000}, 'links': {'idmtools_redis': 'redis', 'idmtools_postgres': 'postgres'}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/workers': {'bind': '/data', 'mode': 'rw'}, '/var/run/docker.sock': {'bind': '/var/run/docker.sock', 'mode': 'rw'}}, 'runtime': 'runc', 'environment': ['REDIS_URL=redis://redis:6379', 'CURRENT_UID=1000:1000'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:21:28 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Worker Container Config {'name': 'idmtools_workers', 'hostname': 'idmtools', 'image': 'idm-docker-staging.packages.idmod.org/idmtools_local_workers:latest', 'ports': {5000: 5000}, 'links': {'idmtools_redis': 'redis', 'idmtools_postgres': 'postgres'}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/workers': {'bind': '/data', 'mode': 'rw'}, '/var/run/docker.sock': {'bind': '/var/run/docker.sock', 'mode': 'rw'}}, 'runtime': 'runc', 'environment': ['REDIS_URL=redis://redis:6379', 'CURRENT_UID=1000:1000'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:21:29 sahara docker.utils.config[26785] DEBUG Trying paths: ['/home/clinton/.docker/config.json', '/home/clinton/.dockercfg']
2019-08-07 21:21:29 sahara docker.utils.config[26785] DEBUG Found file at path: /home/clinton/.docker/config.json
2019-08-07 21:21:29 sahara docker.auth[26785] DEBUG Found 'auths' section
2019-08-07 21:21:29 sahara docker.auth[26785] DEBUG Found entry (registry='docker.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:29 sahara docker.auth[26785] DEBUG Found entry (registry='iazdvfil01.azurecr.io', username='iazdvfil01')
2019-08-07 21:21:29 sahara docker.auth[26785] DEBUG Found entry (registry='idm-docker-production.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:29 sahara docker.auth[26785] DEBUG Found entry (registry='idm-docker-staging.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:31 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring worker is running
2019-08-07 21:21:31 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Copying /home/clinton/development/work/idmtools/idmtools_test/idmtools_test/inputs/python/hello_world.py to docker container b5b43af9eead471afd15ce69fff5d5f8a6bead37feabed62b6981befb970f9a7:/tmp
2019-08-07 21:21:31 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Copying /home/clinton/development/work/idmtools/idmtools_test/idmtools_test/inputs/python/hello_world.py to tar stream
2019-08-07 21:21:31 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring redis is running
2019-08-07 21:21:31 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Stopping container idmtools_redis
2019-08-07 21:21:32 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Removing container idmtools_redis
2019-08-07 21:21:32 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring postgres is running
2019-08-07 21:21:32 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Stopping container idmtools_postgres
2019-08-07 21:21:33 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Removing container idmtools_postgres
2019-08-07 21:21:33 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring worker is running
2019-08-07 21:21:33 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Stopping container idmtools_workers
2019-08-07 21:21:37 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Removing container idmtools_workers
]]>        </system-err>
    </testcase>
    <testcase classname="test_docker_operations.TestDockerOperations" file="test_docker_operations.py" line="74"
              name="test_error_if_try_to_run_as_root" time="0.172" timestamp="2019-08-07T21:21:37">
        <system-out>
            <![CDATA[]]>        </system-out>
        <system-err>
            <![CDATA[]]>        </system-err>
    </testcase>
    <testcase classname="test_docker_operations.TestDockerOperations" file="test_docker_operations.py" line="59"
              name="test_port_taken_has_coherent_error" time="8.185" timestamp="2019-08-07T21:21:45">
        <system-out>
            <![CDATA[
[K]]>        </system-out>
        <system-err>
            <![CDATA[2019-08-07 21:21:37 sahara docker.utils.config[26785] DEBUG Trying paths: ['/home/clinton/.docker/config.json', '/home/clinton/.dockercfg']
2019-08-07 21:21:37 sahara docker.utils.config[26785] DEBUG Found file at path: /home/clinton/.docker/config.json
2019-08-07 21:21:37 sahara docker.auth[26785] DEBUG Found 'auths' section
2019-08-07 21:21:37 sahara docker.auth[26785] DEBUG Found entry (registry='docker.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:37 sahara docker.auth[26785] DEBUG Found entry (registry='iazdvfil01.azurecr.io', username='iazdvfil01')
2019-08-07 21:21:37 sahara docker.auth[26785] DEBUG Found entry (registry='idm-docker-production.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:37 sahara docker.auth[26785] DEBUG Found entry (registry='idm-docker-staging.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:21:37 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring redis is running
2019-08-07 21:21:37 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring postgres is running
2019-08-07 21:21:38 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring worker is running
2019-08-07 21:21:38 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Creating network idmtools
2019-08-07 21:21:38 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Creating network idmtools
2019-08-07 21:21:38 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring redis is running
2019-08-07 21:21:38 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Redis Config: {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:21:38 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Redis Container Config {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:21:39 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring postgres is running
2019-08-07 21:21:39 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Postgres Config: {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:21:39 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Postgres Container Config {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:21:45 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Ensuring worker is running
2019-08-07 21:21:45 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Creating working container
2019-08-07 21:21:45 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Worker Config: {'name': 'idmtools_workers', 'hostname': 'idmtools', 'image': 'idm-docker-staging.packages.idmod.org/idmtools_local_workers:latest', 'ports': {5000: 10000}, 'links': {'idmtools_redis': 'redis', 'idmtools_postgres': 'postgres'}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/workers': {'bind': '/data', 'mode': 'rw'}, '/var/run/docker.sock': {'bind': '/var/run/docker.sock', 'mode': 'rw'}}, 'runtime': 'runc', 'environment': ['REDIS_URL=redis://redis:6379', 'CURRENT_UID=1000:1000'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:21:45 sahara idmtools_platform_local.docker.DockerOperations[26785] DEBUG Worker Container Config {'name': 'idmtools_workers', 'hostname': 'idmtools', 'image': 'idm-docker-staging.packages.idmod.org/idmtools_local_workers:latest', 'ports': {5000: 10000}, 'links': {'idmtools_redis': 'redis', 'idmtools_postgres': 'postgres'}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/workers': {'bind': '/data', 'mode': 'rw'}, '/var/run/docker.sock': {'bind': '/var/run/docker.sock', 'mode': 'rw'}}, 'runtime': 'runc', 'environment': ['REDIS_URL=redis://redis:6379', 'CURRENT_UID=1000:1000'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
]]>        </system-err>
    </testcase>
</testsuite>
