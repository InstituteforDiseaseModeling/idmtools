<?xml version="1.0" encoding="UTF-8"?>
<testsuite errors="0" failures="0" file="test_docker_operations.py"
           name="test_docker_operations.TestDockerOperations-20190807212229" skipped="0" tests="5" time="40.246"
           timestamp="2019-08-07T21:28:47">
    <testcase classname="test_docker_operations.TestDockerOperations" file="test_docker_operations.py" line="27"
              name="test_create_db_starts" time="12.077" timestamp="2019-08-07T21:28:19">
        <system-out>
            <![CDATA[
[K]]>        </system-out>
        <system-err>
            <![CDATA[2019-08-07 21:28:07 sahara docker.utils.config[1819] DEBUG Trying paths: ['/home/clinton/.docker/config.json', '/home/clinton/.dockercfg']
2019-08-07 21:28:07 sahara docker.utils.config[1819] DEBUG Found file at path: /home/clinton/.docker/config.json
2019-08-07 21:28:07 sahara docker.auth[1819] DEBUG Found 'auths' section
2019-08-07 21:28:07 sahara docker.auth[1819] DEBUG Found entry (registry='docker.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:07 sahara docker.auth[1819] DEBUG Found entry (registry='iazdvfil01.azurecr.io', username='iazdvfil01')
2019-08-07 21:28:07 sahara docker.auth[1819] DEBUG Found entry (registry='idm-docker-production.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:07 sahara docker.auth[1819] DEBUG Found entry (registry='idm-docker-staging.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:07 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring postgres is running
2019-08-07 21:28:07 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Postgres Config: {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:28:07 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Postgres Container Config {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:28:08 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring redis is running
2019-08-07 21:28:08 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring postgres is running
2019-08-07 21:28:08 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Stopping container idmtools_postgres
2019-08-07 21:28:19 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Removing container idmtools_postgres
2019-08-07 21:28:19 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring worker is running
]]>        </system-err>
    </testcase>
    <testcase classname="test_docker_operations.TestDockerOperations" file="test_docker_operations.py" line="21"
              name="test_create_redis_starts" time="1.843" timestamp="2019-08-07T21:28:21">
        <system-out>
            <![CDATA[
[K]]>        </system-out>
        <system-err>
            <![CDATA[2019-08-07 21:28:19 sahara docker.utils.config[1819] DEBUG Trying paths: ['/home/clinton/.docker/config.json', '/home/clinton/.dockercfg']
2019-08-07 21:28:19 sahara docker.utils.config[1819] DEBUG Found file at path: /home/clinton/.docker/config.json
2019-08-07 21:28:19 sahara docker.auth[1819] DEBUG Found 'auths' section
2019-08-07 21:28:19 sahara docker.auth[1819] DEBUG Found entry (registry='docker.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:19 sahara docker.auth[1819] DEBUG Found entry (registry='iazdvfil01.azurecr.io', username='iazdvfil01')
2019-08-07 21:28:19 sahara docker.auth[1819] DEBUG Found entry (registry='idm-docker-production.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:19 sahara docker.auth[1819] DEBUG Found entry (registry='idm-docker-staging.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:19 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring redis is running
2019-08-07 21:28:19 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Redis Config: {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:28:19 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Redis Container Config {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:28:20 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring redis is running
2019-08-07 21:28:20 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Stopping container idmtools_redis
2019-08-07 21:28:21 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Removing container idmtools_redis
2019-08-07 21:28:21 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring postgres is running
2019-08-07 21:28:21 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring worker is running
]]>        </system-err>
    </testcase>
    <testcase classname="test_docker_operations.TestDockerOperations" file="test_docker_operations.py" line="37"
              name="test_create_stack_starts" time="17.926" timestamp="2019-08-07T21:28:39">
        <system-out>
            <![CDATA[]]>        </system-out>
        <system-err>
            <![CDATA[2019-08-07 21:28:21 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring redis is running
2019-08-07 21:28:21 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring postgres is running
2019-08-07 21:28:21 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring worker is running
2019-08-07 21:28:21 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Creating network idmtools
2019-08-07 21:28:21 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Creating network idmtools
2019-08-07 21:28:22 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring redis is running
2019-08-07 21:28:22 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Redis Config: {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:28:22 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Redis Container Config {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:28:23 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring postgres is running
2019-08-07 21:28:23 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Postgres Config: {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:28:23 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Postgres Container Config {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:28:29 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring worker is running
2019-08-07 21:28:29 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Creating working container
2019-08-07 21:28:29 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Worker Config: {'name': 'idmtools_workers', 'hostname': 'idmtools', 'image': 'idm-docker-staging.packages.idmod.org/idmtools_local_workers:latest', 'ports': {5000: 5000}, 'links': {'idmtools_redis': 'redis', 'idmtools_postgres': 'postgres'}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/workers': {'bind': '/data', 'mode': 'rw'}, '/var/run/docker.sock': {'bind': '/var/run/docker.sock', 'mode': 'rw'}}, 'runtime': 'runc', 'environment': ['REDIS_URL=redis://redis:6379', 'CURRENT_UID=1000:1000'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:28:29 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Worker Container Config {'name': 'idmtools_workers', 'hostname': 'idmtools', 'image': 'idm-docker-staging.packages.idmod.org/idmtools_local_workers:latest', 'ports': {5000: 5000}, 'links': {'idmtools_redis': 'redis', 'idmtools_postgres': 'postgres'}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/workers': {'bind': '/data', 'mode': 'rw'}, '/var/run/docker.sock': {'bind': '/var/run/docker.sock', 'mode': 'rw'}}, 'runtime': 'runc', 'environment': ['REDIS_URL=redis://redis:6379', 'CURRENT_UID=1000:1000'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:28:30 sahara docker.utils.config[1819] DEBUG Trying paths: ['/home/clinton/.docker/config.json', '/home/clinton/.dockercfg']
2019-08-07 21:28:30 sahara docker.utils.config[1819] DEBUG Found file at path: /home/clinton/.docker/config.json
2019-08-07 21:28:30 sahara docker.auth[1819] DEBUG Found 'auths' section
2019-08-07 21:28:30 sahara docker.auth[1819] DEBUG Found entry (registry='docker.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:30 sahara docker.auth[1819] DEBUG Found entry (registry='iazdvfil01.azurecr.io', username='iazdvfil01')
2019-08-07 21:28:30 sahara docker.auth[1819] DEBUG Found entry (registry='idm-docker-production.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:30 sahara docker.auth[1819] DEBUG Found entry (registry='idm-docker-staging.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:32 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring worker is running
2019-08-07 21:28:32 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Copying /home/clinton/development/work/idmtools/idmtools_test/idmtools_test/inputs/python/hello_world.py to docker container 08a20fda3b42a2b2b56103feb94d25b1638380987e6f0ef35ade202dfad39dc4:/tmp
2019-08-07 21:28:32 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Copying /home/clinton/development/work/idmtools/idmtools_test/idmtools_test/inputs/python/hello_world.py to tar stream
2019-08-07 21:28:33 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring redis is running
2019-08-07 21:28:33 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Stopping container idmtools_redis
2019-08-07 21:28:34 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Removing container idmtools_redis
2019-08-07 21:28:34 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring postgres is running
2019-08-07 21:28:34 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Stopping container idmtools_postgres
2019-08-07 21:28:35 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Removing container idmtools_postgres
2019-08-07 21:28:35 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring worker is running
2019-08-07 21:28:35 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Stopping container idmtools_workers
2019-08-07 21:28:38 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Removing container idmtools_workers
]]>        </system-err>
    </testcase>
    <testcase classname="test_docker_operations.TestDockerOperations" file="test_docker_operations.py" line="74"
              name="test_error_if_try_to_run_as_root" time="0.173" timestamp="2019-08-07T21:28:39">
        <system-out>
            <![CDATA[]]>        </system-out>
        <system-err>
            <![CDATA[]]>        </system-err>
    </testcase>
    <testcase classname="test_docker_operations.TestDockerOperations" file="test_docker_operations.py" line="59"
              name="test_port_taken_has_coherent_error" time="8.228" timestamp="2019-08-07T21:28:47">
        <system-out>
            <![CDATA[
[K]]>        </system-out>
        <system-err>
            <![CDATA[2019-08-07 21:28:39 sahara docker.utils.config[1819] DEBUG Trying paths: ['/home/clinton/.docker/config.json', '/home/clinton/.dockercfg']
2019-08-07 21:28:39 sahara docker.utils.config[1819] DEBUG Found file at path: /home/clinton/.docker/config.json
2019-08-07 21:28:39 sahara docker.auth[1819] DEBUG Found 'auths' section
2019-08-07 21:28:39 sahara docker.auth[1819] DEBUG Found entry (registry='docker.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:39 sahara docker.auth[1819] DEBUG Found entry (registry='iazdvfil01.azurecr.io', username='iazdvfil01')
2019-08-07 21:28:39 sahara docker.auth[1819] DEBUG Found entry (registry='idm-docker-production.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:39 sahara docker.auth[1819] DEBUG Found entry (registry='idm-docker-staging.packages.idmod.org', username='ccollins@idmod.org')
2019-08-07 21:28:39 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring redis is running
2019-08-07 21:28:39 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring postgres is running
2019-08-07 21:28:39 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring worker is running
2019-08-07 21:28:39 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Creating network idmtools
2019-08-07 21:28:40 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Creating network idmtools
2019-08-07 21:28:40 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring redis is running
2019-08-07 21:28:40 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Redis Config: {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:28:40 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Redis Container Config {'name': 'idmtools_redis', 'hostname': 'redis', 'image': 'redis:5.0.4-alpine', 'ports': {6379: 6379}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/redis-data': {'bind': '/data', 'mode': 'rw'}}, 'user': '1000:1000', 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:28:41 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring postgres is running
2019-08-07 21:28:41 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Postgres Config: {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:28:41 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Postgres Container Config {'name': 'idmtools_postgres', 'image': 'postgres:11.4', 'ports': {5432: 5432}, 'volumes': {'idmtools_local_postgres': {'bind': '/var/lib/postgresql/data', 'mode': 'rw'}}, 'hostname': 'postgres', 'environment': ['POSTGRES_USER=idmtools', 'POSTGRES_PASSWORD=idmtools'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '64m', 'mem_reservation': '32m'}
2019-08-07 21:28:47 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Ensuring worker is running
2019-08-07 21:28:47 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Creating working container
2019-08-07 21:28:47 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Worker Config: {'name': 'idmtools_workers', 'hostname': 'idmtools', 'image': 'idm-docker-staging.packages.idmod.org/idmtools_local_workers:latest', 'ports': {5000: 10000}, 'links': {'idmtools_redis': 'redis', 'idmtools_postgres': 'postgres'}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/workers': {'bind': '/data', 'mode': 'rw'}, '/var/run/docker.sock': {'bind': '/var/run/docker.sock', 'mode': 'rw'}}, 'runtime': 'runc', 'environment': ['REDIS_URL=redis://redis:6379', 'CURRENT_UID=1000:1000'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
2019-08-07 21:28:47 sahara idmtools_platform_local.docker.DockerOperations[1819] DEBUG Worker Container Config {'name': 'idmtools_workers', 'hostname': 'idmtools', 'image': 'idm-docker-staging.packages.idmod.org/idmtools_local_workers:latest', 'ports': {5000: 10000}, 'links': {'idmtools_redis': 'redis', 'idmtools_postgres': 'postgres'}, 'volumes': {'/home/clinton/development/work/idmtools/idmtools_platform_local/tests/.local_data/workers': {'bind': '/data', 'mode': 'rw'}, '/var/run/docker.sock': {'bind': '/var/run/docker.sock', 'mode': 'rw'}}, 'runtime': 'runc', 'environment': ['REDIS_URL=redis://redis:6379', 'CURRENT_UID=1000:1000'], 'restart_policy': {'MaximumRetryCount': 15, 'name': 'on-failure'}, 'detach': True, 'labels': {'idmtools_version': '0.1.0+nightly0'}, 'mem_limit': '128m', 'mem_reservation': '64m'}
]]>        </system-err>
    </testcase>
</testsuite>
